function Stack(){this.m_stack=Array(),this.Size=function(){return this.m_stack.length},this.Empty=function(){return 0===this.Size()},this.Push=function(e){this.m_stack.push(e)},this.Pop=function(){return this.Empty()?!1:this.m_stack.pop()},this.Peek=function(){return this.Empty()?!1:this.m_stack[this.Size()-1]},this.Contains=function(e){return-1!==this.m_stack.indexOf(e)},this.ContainsAnyOf=function(){for(var e=0;e<arguments.length;++e)if(this.Contains(arguments[e]))return!0;return!1}}function isValidNav(e){return e>=0&&e<Nav.NumNav}function loadPopup(e){if(isValidNav(e)){var a=$(NavId[e]).parents(".popupContainer"),i=$(NavId[e]).parents(".popup");popupStack.Push(e),$(NavId[e]).focus(function(){$(NavId[e]).parents(".popupContainer").mCustomScrollbar("scrollTo","+=0",{timeout:1})}),i.css("visibility","visible"),i.fadeIn("slow",function(){$(NavId[e]).focus()}),$(NavLink[e]).addClass("selected"),a.mCustomScrollbar({alwaysShowScrollbar:1,scrollInertia:NavInertia[e],theme:"dark-thin",mouseWheel:{deltaFactor:NavSpeed[e]},advanced:{updateOnContentResize:!0,autoScrollOnFocus:!0},callbacks:{whileScrolling:function(){popupStack.Peek()===Nav.Travel&&updateTravelPreview(this)}}})}}function disablePopup(){var e=popupStack.Pop();if(e!==!1)if($(NavId[e]).parents(".popup").fadeOut("slow"),popupStack.Empty())$(NavLink[e]).removeClass("selected");else{var a=popupStack.Peek();$(NavId[a]).focus()}return e}function disableAllPopups(e){for(;disablePopup()!==!1;);}function handleClick(e){popupStack.Contains(e)||(disableAllPopups(),loadPopup(e))}function pad0(e){for(e=e.toString();e.length<idPadLen;)e="0"+e;return e}function getPreviewImageDiv(e,a){return imageIdStr=pad0(e),locationMap[e]=a,minImageId=Math.min(e,minImageId),maxImageId=Math.max(e,maxImageId),'<img src="img/travel/'+imageIdStr+'.jpg" id="'+idHeader+imageIdStr+'" class="image" alt="'+locationMap[e]+'" />'}function getEnlargedImageDiv(e){imageIdStr=pad0(e);var a="<h3>"+locationMap[e]+"</h3>";return a+='<img src="img/nav/left.png" id="navLeft" class="popupNav" alt="" />',a+='<img src="img/travel/'+imageIdStr+'.jpg" id="'+idHeader+imageIdStr+'" class="image enlargedImage" alt="'+locationMap[e]+'" />',a+='<img src="img/nav/right.png" id="navRight" class="popupNav" alt="" />'}function updateEnlargedImageDiv(e){var a=parseInt(currId.substring(1+idHeader.length));if(!isNaN(a)&&popupStack.ContainsAnyOf(Nav.Travel,Nav.TravelEnlarged)){e===Direction.Left?(a=a>minImageId?a-1:maxImageId,currId="#"+idHeader+pad0(a)):e===Direction.Right&&(a=maxImageId>a?a+1:minImageId,currId="#"+idHeader+pad0(a));var i=getEnlargedImageDiv(a);$(NavId[Nav.TravelEnlarged]).html(i),e===Direction.None&&loadPopup(Nav.TravelEnlarged)}}function updateTravelPreview(e){e.mcs.topPct>80&&loadTravelImages(imagesToLoad)}function createTravelImageList(){imageList.push(getPreviewImageDiv(38,"Jackson Point - Little Cayman, Cayman Islands")),imageList.push(getPreviewImageDiv(39,"Bus Stop - Little Cayman, Cayman Islands")),imageList.push(getPreviewImageDiv(40,"Bus Stop - Little Cayman, Cayman Islands")),imageList.push(getPreviewImageDiv(41,"Central Caribbean Marine Institute - Little Cayman, Cayman Islands")),imageList.push(getPreviewImageDiv(42,"Little Cayman, Cayman Islands")),imageList.push(getPreviewImageDiv(1,"Great Barrier Reef, Australia")),imageList.push(getPreviewImageDiv(2,"Paradise, New Zealand")),imageList.push(getPreviewImageDiv(3,"Oahu, New Zealand")),imageList.push(getPreviewImageDiv(4,"Queenstown, New Zealand")),imageList.push(getPreviewImageDiv(5,"St. Kilda Beach - Melbourne, Victoria, Australia")),imageList.push(getPreviewImageDiv(6,"Melbourne Zoo - Melbourne, Victoria, Australia")),imageList.push(getPreviewImageDiv(7,"Melbourne Zoo - Melbourne, Victoria, Australia")),imageList.push(getPreviewImageDiv(8,"The Twelve Apostles - Victoria, Australia")),imageList.push(getPreviewImageDiv(9,"Grampians National Park - Victoria, Australia")),imageList.push(getPreviewImageDiv(10,"Grampians National Park - Victoria, Australia")),imageList.push(getPreviewImageDiv(11,"Melbourne Cricket Ground - Melbourne, Victoria, Australia")),imageList.push(getPreviewImageDiv(12,"Werribee Open Range Zoo - Werribee, Victoria, Australia")),imageList.push(getPreviewImageDiv(13,"Healesville Sanctuary - Healesville, Victoria, Australia")),imageList.push(getPreviewImageDiv(14,"Healesville Sanctuary - Healesville, Victoria, Australia")),imageList.push(getPreviewImageDiv(15,"Blue Mountains - New South Wales, Australia")),imageList.push(getPreviewImageDiv(16,"Sydney Opera House - Sydney, New South Wales, Australia")),imageList.push(getPreviewImageDiv(17,"Sydney Opera House - Sydney, New South Wales, Australia")),imageList.push(getPreviewImageDiv(18,"Harbour Bridge - Sydney, New South Wales, Australia")),imageList.push(getPreviewImageDiv(19,"Flynn Reef - Great Barrier Reef, Australia")),imageList.push(getPreviewImageDiv(20,"Flynn Reef - Great Barrier Reef, Australia")),imageList.push(getPreviewImageDiv(21,"Cook Strait - New Zealand")),imageList.push(getPreviewImageDiv(22,"New Zealand")),imageList.push(getPreviewImageDiv(23,"Zirakzigil - New Zealand")),imageList.push(getPreviewImageDiv(24,"Takaro Road - New Zealand")),imageList.push(getPreviewImageDiv(25,"Milford Sound - New Zealand")),imageList.push(getPreviewImageDiv(26,"Milford Sound - New Zealand")),imageList.push(getPreviewImageDiv(27,"Milford Sound - New Zealand")),imageList.push(getPreviewImageDiv(28,"New Zealand")),imageList.push(getPreviewImageDiv(29,"New Zealand")),imageList.push(getPreviewImageDiv(30,"New Zealand")),imageList.push(getPreviewImageDiv(31,"New Zealand")),imageList.push(getPreviewImageDiv(32,"New Zealand")),imageList.push(getPreviewImageDiv(33,"New Zealand")),imageList.push(getPreviewImageDiv(34,"Pawtuckaway State Park - New Hampshire, US")),imageList.push(getPreviewImageDiv(35,"Pawtuckaway State Park - New Hampshire, US")),imageList.push(getPreviewImageDiv(36,"Townsville, Queensland, Australia")),imageList.push(getPreviewImageDiv(37,"Cozumel, Mexico"))}function loadTravelImages(e){for(var a="";--e>=0&&imageList.length>0;)a+=imageList.shift();$(NavId[Nav.Travel]).append(a)}$(document).ready(function(){var e=RegExp("msie","i").test(navigator.userAgent);e&&window.location.replace("/ie.html")});var contactMap;$(document).ready(function(){$.backstretch("http://timothy-flynn.com/img/background.jpg"),$(NavId[Nav.Resume]).append('<img src="img/TimothyFlynnResume-030215.png" alt="" />'),$(".lazyYT").lazyYT();var e=L.latLng(42.252156,-71.003295);contactMap=L.map("map").setView(e,16),L.tileLayer("https://{s}.tiles.mapbox.com/v3/{id}/{z}/{x}/{y}.png",{id:"trflynn89.j35n6m41"}).addTo(contactMap),L.marker(e).addTo(contactMap).bindPopup("<b>ViaSat, Inc.</b><br />1250 Hancock Street 701-N<br />Quincy, MA 02169").openPopup(),$(".popup").hide()});var Nav={Resume:0,Projects:1,Travel:2,TravelEnlarged:3,Music:4,Contact:5,NumNav:6},NavId=new Array("#popupResume","#popupProjects","#popupTravel","#popupTravelEnlarged","#popupMusic","#popupContact"),NavLink=new Array("#resume","#projects","#travel","#travel","#music","#contact"),NavSpeed=new Array(200,200,50,200,50,"auto"),NavInertia=new Array(950,950,600,950,600,950),popupStack=new Stack;$(document).ready(function(){var e=!0;$(document).keyup(function(e){e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||(27===e.keyCode?disablePopup():37===e.keyCode?updateEnlargedImageDiv(Direction.Left):39===e.keyCode&&updateEnlargedImageDiv(Direction.Right))}),$(document).mouseup(function(){var e=popupStack.Peek();e!==!1&&$(NavId[e]).focus()}),$(".popupClose").click(function(){disablePopup()}),$("#resume").click(function(){handleClick(Nav.Resume)}),$("#projects").click(function(){handleClick(Nav.Projects)}),$("#travel").click(function(){handleClick(Nav.Travel),e&&(loadTravelImages(imagesToLoad),e=!1)}),$("#music").click(function(){handleClick(Nav.Music)}),$("#contact").click(function(){handleClick(Nav.Contact),contactMap.invalidateSize()})});var Direction={None:0,Left:1,Right:2},imageList=new Array,imagesToLoad=6,minImageId=1e3,maxImageId=-1,idHeader="trav-",idPadLen=3,locationMap=Array(),currId="";$(document).ready(function(){createTravelImageList(),loadTravelImages(imagesToLoad),$(NavId[Nav.Travel]).click(function(e){currId="#"+e.target.id,updateEnlargedImageDiv(Direction.None)}),$(NavId[Nav.TravelEnlarged]).click(function(e){-1===e.target.id.indexOf(idHeader)?"navLeft"===e.target.id?updateEnlargedImageDiv(Direction.Left):"navRight"===e.target.id&&updateEnlargedImageDiv(Direction.Right):updateEnlargedImageDiv(Direction.Right)})});
