function isEarlierThanIE11(){return RegExp("msie","i").test(navigator.userAgent)}function isValidNav(a){return a>=0&&a<Nav.NumNav}function setNavArrowPos(a){if(isValidNav(a)&&-1!==loadedNav){navLink=NavLink[a];var e=$(navLink).position().left+parseInt($(navLink).css("padding-left"))+$(navLink).width()/2-$(navArrowId).width()/2,t=$("nav").position().top+$("nav").height()-$(navArrowId).height();$(navArrowId).css({visibility:"visible"}),$(navArrowId).css({left:e}),$(navArrowId).css({top:t})}}function loadPopup(a){if(isValidNav(a)&&NavStatus[a]!==Status.Visible){loadedNav=a;var e=NavId[a];NavStatus[a]=Status.Visible,$(navArrowId).addClass("transition"),setNavArrowPos(a),$(e).parents(".popup").fadeIn("slow",function(){$(navArrowId).removeClass("transition"),handlingClick=!1}),NavScroll[a]===Status.Hidden&&(NavScroll[a]=Status.Visible,$(e).parents(".popupContainer").mCustomScrollbar({alwaysShowScrollbar:1,scrollInertia:NavInertia[a],theme:"dark-thin",mouseWheel:{deltaFactor:NavSpeed[a]},advanced:{updateOnContentResize:!0}}))}}function disablePopup(a){if(isValidNav(a)&&NavStatus[a]!==Status.Hidden){$(navArrowId).css({visibility:"hidden"}),loadedNav=-1,NavStatus[a]=Status.Hidden;var e=NavId[a];$(e).parents(".popup").fadeOut("slow",function(){handlingClick=!1})}}function disableAllPopups(a){for(var e=0;e<Nav.NumNav;++e)e!==a&&disablePopup(e)}function handleClick(a){if(!handlingClick&&isValidNav(a)){handlingClick=!0;var e=NavId[a];NavStatus[a]===Status.Hidden?($(e).parents(".popup").css("visibility","visible"),disableAllPopups(a),loadPopup(a)):disablePopup(a)}}function pad(a){for(a=a.toString();a.length<idPadLen;)a="0"+a;return a}function getPreviewImageDiv(a,e){imageIdStr=pad(a),locationMap[a]=e;var t="<div>";return t+='<img src="img/travel/'+imageIdStr+'.jpg" ',t+='class="image" id="'+idHeader+imageIdStr+'" alt="" />',t+="</div>",minImageId>a&&(minImageId=a),a>maxImageId&&(maxImageId=a),t}function getEnlargedImageDiv(a){imageIdStr=pad(a);var e='<div class="enlargedDiv">';return e+="<h3>"+locationMap[a]+"</h3>",e+='<img src="img/nav/left.png" id="navLeft" class="popupNav" alt="" />',e+='<img src="img/travel/'+imageIdStr+'.jpg" id="'+idHeader+imageIdStr+'" class="image enlargedImage" alt="" />',e+='<img src="img/nav/right.png" id="navRight" class="popupNav" alt="" />',e+="</div>"}function updateEnlargedImageDiv(a){imageId=parseInt(currId.substring(1+idHeader.length)),NavStatus[Nav.Travel]===Status.Hidden||isNaN(imageId)||("left"===a?(imageId=imageId>minImageId?imageId-1:maxImageId,currId="#"+idHeader+pad(imageId)):"right"===a&&(imageId=imageId<maxImageId?imageId+1:minImageId,currId="#"+idHeader+pad(imageId)),currStatus=TravelStatus.Resizing,$(NavId[Nav.Travel]).fadeOut(function(){var a=getEnlargedImageDiv(imageId);$(NavId[Nav.Travel]).html(a).fadeIn(function(){currStatus=TravelStatus.Enlarged})}))}function loadTravelImages(){baseHtml+=getPreviewImageDiv(38,"Jackson Point - Little Cayman, Cayman Islands"),baseHtml+=getPreviewImageDiv(39,"Bus Stop - Little Cayman, Cayman Islands"),baseHtml+=getPreviewImageDiv(40,"Bus Stop - Little Cayman, Cayman Islands"),baseHtml+=getPreviewImageDiv(41,"Central Caribbean Marine Institute - Little Cayman, Cayman Islands"),baseHtml+=getPreviewImageDiv(42,"Little Cayman, Cayman Islands"),baseHtml+=getPreviewImageDiv(1,"Great Barrier Reef, Australia"),baseHtml+=getPreviewImageDiv(2,"Paradise, New Zealand"),baseHtml+=getPreviewImageDiv(3,"Oahu, New Zealand"),baseHtml+=getPreviewImageDiv(4,"Queenstown, New Zealand"),baseHtml+=getPreviewImageDiv(5,"St. Kilda Beach - Melbourne, Victoria, Australia"),baseHtml+=getPreviewImageDiv(6,"Melbourne Zoo - Melbourne, Victoria, Australia"),baseHtml+=getPreviewImageDiv(7,"Melbourne Zoo - Melbourne, Victoria, Australia"),baseHtml+=getPreviewImageDiv(8,"The Twelve Apostles - Victoria, Australia"),baseHtml+=getPreviewImageDiv(9,"Grampians National Park - Victoria, Australia"),baseHtml+=getPreviewImageDiv(10,"Grampians National Park - Victoria, Australia"),baseHtml+=getPreviewImageDiv(11,"Melbourne Cricket Ground - Melbourne, Victoria, Australia"),baseHtml+=getPreviewImageDiv(12,"Werribee Open Range Zoo - Werribee, Victoria, Australia"),baseHtml+=getPreviewImageDiv(13,"Healesville Sanctuary - Healesville, Victoria, Australia"),baseHtml+=getPreviewImageDiv(14,"Healesville Sanctuary - Healesville, Victoria, Australia"),baseHtml+=getPreviewImageDiv(15,"Blue Mountains - New South Wales, Australia"),baseHtml+=getPreviewImageDiv(16,"Sydney Opera House - Sydney, New South Wales, Australia"),baseHtml+=getPreviewImageDiv(17,"Sydney Opera House - Sydney, New South Wales, Australia"),baseHtml+=getPreviewImageDiv(18,"Harbour Bridge - Sydney, New South Wales, Australia"),baseHtml+=getPreviewImageDiv(19,"Flynn Reef - Great Barrier Reef, Australia"),baseHtml+=getPreviewImageDiv(20,"Flynn Reef - Great Barrier Reef, Australia"),baseHtml+=getPreviewImageDiv(21,"Cook Strait - New Zealand"),baseHtml+=getPreviewImageDiv(22,"New Zealand"),baseHtml+=getPreviewImageDiv(23,"Zirakzigil - New Zealand"),baseHtml+=getPreviewImageDiv(24,"Takaro Road - New Zealand"),baseHtml+=getPreviewImageDiv(25,"Milford Sound - New Zealand"),baseHtml+=getPreviewImageDiv(26,"Milford Sound - New Zealand"),baseHtml+=getPreviewImageDiv(27,"Milford Sound - New Zealand"),baseHtml+=getPreviewImageDiv(28,"New Zealand"),baseHtml+=getPreviewImageDiv(29,"New Zealand"),baseHtml+=getPreviewImageDiv(30,"New Zealand"),baseHtml+=getPreviewImageDiv(31,"New Zealand"),baseHtml+=getPreviewImageDiv(32,"New Zealand"),baseHtml+=getPreviewImageDiv(33,"New Zealand"),baseHtml+=getPreviewImageDiv(34,"Pawtuckaway State Park - New Hampshire, US"),baseHtml+=getPreviewImageDiv(35,"Pawtuckaway State Park - New Hampshire, US"),baseHtml+=getPreviewImageDiv(36,"Townsville, Queensland, Australia"),baseHtml+=getPreviewImageDiv(37,"Cozumel, Mexico"),$(NavId[Nav.Travel]).append(baseHtml)}$(document).ready(function(){isEarlierThanIE11()&&window.location.replace("http://timothy-flynn.com/ie.html")});var Status={Hidden:0,Visible:1},Nav={Resume:0,Projects:1,Travel:2,Music:3,Contact:4,NumNav:5},NavId=new Array("#popupResume","#popupProjects","#popupTravel","#popupMusic","#popupContact"),NavLink=new Array("#resume","#projects","#travel","#music","#contact"),NavStatus=new Array,NavScroll=new Array,NavSpeed=new Array(200,200,50,50,"auto"),NavInertia=new Array(950,950,600,600,950),contactMap;$(document).ready(function(){$.backstretch("http://timothy-flynn.com/img/background.jpg"),$(NavId[Nav.Resume]).append('<img src="img/TimothyFlynnResume-030215.png" alt="" />'),$(".lazyYT").lazyYT();var a=L.latLng(42.252156,-71.003295);contactMap=L.map("map").setView(a,16),L.tileLayer("https://{s}.tiles.mapbox.com/v3/{id}/{z}/{x}/{y}.png",{id:"trflynn89.j35n6m41"}).addTo(contactMap),L.marker(a).addTo(contactMap).bindPopup("<b>ViaSat, Inc.</b><br />1250 Hancock Street 701-N<br />Quincy, MA 02169").openPopup(),$(".popup").hide()});var handlingClick=!1,navArrowId="#navArrow",loadedNav=-1;$(document).ready(function(){for(var a=0;a<Nav.NumNav;++a)NavStatus.push(Status.Hidden),NavScroll.push(Status.Hidden);$(document).keyup(function(a){27===a.keyCode?disableAllPopups():37===a.keyCode?updateEnlargedImageDiv("left"):39===a.keyCode&&updateEnlargedImageDiv("right")}),$("body").click(function(a){a.target===$("body")[0]&&disableAllPopups()}),$(".popupClose").click(function(){disableAllPopups()}),$("#resume").click(function(){handleClick(Nav.Resume)}),$("#projects").click(function(){handleClick(Nav.Projects)}),$("#travel").click(function(){handleClick(Nav.Travel)}),$("#music").click(function(){handleClick(Nav.Music)}),$("#contact").click(function(){handleClick(Nav.Contact),contactMap.invalidateSize()})}),$(window).resize(function(){handlingClick||setNavArrowPos(loadedNav)});var TravelStatus={None:0,Preview:1,Enlarged:2,Resizing:3},currStatus=TravelStatus.None,baseHtml="",currId="",minImageId=1e3,maxImageId=-1,idHeader="trav-",idPadLen=3,locationMap=Array();$(document).ready(function(){currStatus===TravelStatus.None&&(currStatus=TravelStatus.Preview,loadTravelImages())}),$(NavId[Nav.Travel]).click(function(a){-1===a.target.id.indexOf(idHeader)?"navLeft"===a.target.id?updateEnlargedImageDiv("left"):"navRight"===a.target.id&&updateEnlargedImageDiv("right"):currStatus===TravelStatus.Preview?(currId="#"+a.target.id,updateEnlargedImageDiv()):currStatus===TravelStatus.Enlarged&&(currId="",currStatus=TravelStatus.Resizing,$(NavId[Nav.Travel]).fadeOut(function(){$(NavId[Nav.Travel]).html(baseHtml).fadeIn(function(){currStatus=TravelStatus.Preview})}))});
