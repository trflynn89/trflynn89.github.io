function isEarlierThanIE11(){return RegExp("msie","i").test(navigator.userAgent)}function isValidNav(e){return e>=0&&e<Nav.NumNav}function setNavArrowPos(e){if(isValidNav(e)&&-1!==loadedNav){navLink=NavLink[e];var a=$(navLink).position().left+parseInt($(navLink).css("padding-left"))+$(navLink).width()/2-$(navArrowId).width()/2,t=$("nav").position().top+$("nav").height()-$(navArrowId).height();$(navArrowId).css({visibility:"visible"}),$(navArrowId).css({left:a}),$(navArrowId).css({top:t})}}function loadPopup(e){if(isValidNav(e)&&NavStatus[e]!==Status.Visible){loadedNav=e;var a=NavId[e];NavStatus[e]=Status.Visible,$(navArrowId).addClass("transition"),setNavArrowPos(e),$(a).parents(".popup").fadeIn("slow",function(){$(navArrowId).removeClass("transition"),handlingClick=!1}),NavScroll[e]===Status.Hidden&&(NavScroll[e]=Status.Visible,$(a).parents(".popupContainer").mCustomScrollbar({alwaysShowScrollbar:1,scrollInertia:NavInertia[e],theme:"dark-thin",mouseWheel:{deltaFactor:NavSpeed[e]},advanced:{updateOnContentResize:!0}}))}}function disablePopup(e){if(isValidNav(e)&&NavStatus[e]!==Status.Hidden){$(navArrowId).css({visibility:"hidden"}),loadedNav=-1,NavStatus[e]=Status.Hidden;var a=NavId[e];$(a).parents(".popup").fadeOut("slow",function(){handlingClick=!1})}}function disableAllPopups(e){for(var a=0;a<Nav.NumNav;++a)a!==e&&disablePopup(a)}function handleClick(e){if(!handlingClick&&isValidNav(e)){handlingClick=!0;var a=NavId[e];NavStatus[e]===Status.Hidden?($(a).parents(".popup").css("visibility","visible"),disableAllPopups(e),loadPopup(e)):disablePopup(e)}}function handleClose(){handlingClick||currStatus==TravelStatus.Resizing||(currStatus==TravelStatus.Enlarged?resetPreviewImageDiv():disableAllPopups())}function pad(e){for(e=e.toString();e.length<idPadLen;)e="0"+e;return e}function getPreviewImageDiv(e,a){imageIdStr=pad(e),locationMap[e]=a;var t="<div>";return t+='<img src="img/travel/'+imageIdStr+'.jpg" ',t+='class="image" id="'+idHeader+imageIdStr+'" alt="" />',t+="</div>",minImageId>e&&(minImageId=e),e>maxImageId&&(maxImageId=e),t}function getEnlargedImageDiv(e){imageIdStr=pad(e);var a="<h3>"+locationMap[e]+"</h3>";return a+='<div class="enlargedDiv">',a+='<img src="img/nav/left.png" id="navLeft" class="popupNav" alt="" />',a+='<img src="img/travel/'+imageIdStr+'.jpg" id="'+idHeader+imageIdStr+'" class="image enlargedImage" alt="" />',a+='<img src="img/nav/right.png" id="navRight" class="popupNav" alt="" />',a+="</div>"}function resetPreviewImageDiv(){currId="",currStatus=TravelStatus.Resizing,$(NavId[Nav.Travel]).fadeOut(function(){$(NavId[Nav.Travel]).html(baseHtml).fadeIn(function(){currStatus=TravelStatus.Preview})})}function updateEnlargedImageDiv(e){imageId=parseInt(currId.substring(1+idHeader.length)),NavStatus[Nav.Travel]===Status.Hidden||isNaN(imageId)||("left"===e?(imageId=imageId>minImageId?imageId-1:maxImageId,currId="#"+idHeader+pad(imageId)):"right"===e&&(imageId=imageId<maxImageId?imageId+1:minImageId,currId="#"+idHeader+pad(imageId)),currStatus=TravelStatus.Resizing,$(NavId[Nav.Travel]).fadeOut(function(){var e=getEnlargedImageDiv(imageId);$(NavId[Nav.Travel]).html(e).fadeIn(function(){currStatus=TravelStatus.Enlarged})}))}function loadTravelImages(){baseHtml+=getPreviewImageDiv(38,"Jackson Point - Little Cayman, Cayman Islands"),baseHtml+=getPreviewImageDiv(39,"Bus Stop - Little Cayman, Cayman Islands"),baseHtml+=getPreviewImageDiv(40,"Bus Stop - Little Cayman, Cayman Islands"),baseHtml+=getPreviewImageDiv(41,"Central Caribbean Marine Institute - Little Cayman, Cayman Islands"),baseHtml+=getPreviewImageDiv(42,"Little Cayman, Cayman Islands"),baseHtml+=getPreviewImageDiv(1,"Great Barrier Reef, Australia"),baseHtml+=getPreviewImageDiv(2,"Paradise, New Zealand"),baseHtml+=getPreviewImageDiv(3,"Oahu, New Zealand"),baseHtml+=getPreviewImageDiv(4,"Queenstown, New Zealand"),baseHtml+=getPreviewImageDiv(5,"St. Kilda Beach - Melbourne, Victoria, Australia"),baseHtml+=getPreviewImageDiv(6,"Melbourne Zoo - Melbourne, Victoria, Australia"),baseHtml+=getPreviewImageDiv(7,"Melbourne Zoo - Melbourne, Victoria, Australia"),baseHtml+=getPreviewImageDiv(8,"The Twelve Apostles - Victoria, Australia"),baseHtml+=getPreviewImageDiv(9,"Grampians National Park - Victoria, Australia"),baseHtml+=getPreviewImageDiv(10,"Grampians National Park - Victoria, Australia"),baseHtml+=getPreviewImageDiv(11,"Melbourne Cricket Ground - Melbourne, Victoria, Australia"),baseHtml+=getPreviewImageDiv(12,"Werribee Open Range Zoo - Werribee, Victoria, Australia"),baseHtml+=getPreviewImageDiv(13,"Healesville Sanctuary - Healesville, Victoria, Australia"),baseHtml+=getPreviewImageDiv(14,"Healesville Sanctuary - Healesville, Victoria, Australia"),baseHtml+=getPreviewImageDiv(15,"Blue Mountains - New South Wales, Australia"),baseHtml+=getPreviewImageDiv(16,"Sydney Opera House - Sydney, New South Wales, Australia"),baseHtml+=getPreviewImageDiv(17,"Sydney Opera House - Sydney, New South Wales, Australia"),baseHtml+=getPreviewImageDiv(18,"Harbour Bridge - Sydney, New South Wales, Australia"),baseHtml+=getPreviewImageDiv(19,"Flynn Reef - Great Barrier Reef, Australia"),baseHtml+=getPreviewImageDiv(20,"Flynn Reef - Great Barrier Reef, Australia"),baseHtml+=getPreviewImageDiv(21,"Cook Strait - New Zealand"),baseHtml+=getPreviewImageDiv(22,"New Zealand"),baseHtml+=getPreviewImageDiv(23,"Zirakzigil - New Zealand"),baseHtml+=getPreviewImageDiv(24,"Takaro Road - New Zealand"),baseHtml+=getPreviewImageDiv(25,"Milford Sound - New Zealand"),baseHtml+=getPreviewImageDiv(26,"Milford Sound - New Zealand"),baseHtml+=getPreviewImageDiv(27,"Milford Sound - New Zealand"),baseHtml+=getPreviewImageDiv(28,"New Zealand"),baseHtml+=getPreviewImageDiv(29,"New Zealand"),baseHtml+=getPreviewImageDiv(30,"New Zealand"),baseHtml+=getPreviewImageDiv(31,"New Zealand"),baseHtml+=getPreviewImageDiv(32,"New Zealand"),baseHtml+=getPreviewImageDiv(33,"New Zealand"),baseHtml+=getPreviewImageDiv(34,"Pawtuckaway State Park - New Hampshire, US"),baseHtml+=getPreviewImageDiv(35,"Pawtuckaway State Park - New Hampshire, US"),baseHtml+=getPreviewImageDiv(36,"Townsville, Queensland, Australia"),baseHtml+=getPreviewImageDiv(37,"Cozumel, Mexico"),$(NavId[Nav.Travel]).append(baseHtml)}$(document).ready(function(){isEarlierThanIE11()&&window.location.replace("http://timothy-flynn.com/ie.html")});var Status={Hidden:0,Visible:1},Nav={Resume:0,Projects:1,Travel:2,Music:3,Contact:4,NumNav:5},NavId=new Array("#popupResume","#popupProjects","#popupTravel","#popupMusic","#popupContact"),NavLink=new Array("#resume","#projects","#travel","#music","#contact"),NavStatus=new Array,NavScroll=new Array,NavSpeed=new Array(200,200,50,50,"auto"),NavInertia=new Array(950,950,600,600,950),contactMap;$(document).ready(function(){$.backstretch("http://timothy-flynn.com/img/background.jpg"),$(NavId[Nav.Resume]).append('<img src="img/TimothyFlynnResume-030215.png" alt="" />'),$(".lazyYT").lazyYT();var e=L.latLng(42.252156,-71.003295);contactMap=L.map("map").setView(e,16),L.tileLayer("https://{s}.tiles.mapbox.com/v3/{id}/{z}/{x}/{y}.png",{id:"trflynn89.j35n6m41"}).addTo(contactMap),L.marker(e).addTo(contactMap).bindPopup("<b>ViaSat, Inc.</b><br />1250 Hancock Street 701-N<br />Quincy, MA 02169").openPopup(),$(".popup").hide()});var handlingClick=!1,navArrowId="#navArrow",loadedNav=-1;$(document).ready(function(){for(var e=0;e<Nav.NumNav;++e)NavStatus.push(Status.Hidden),NavScroll.push(Status.Hidden);$(document).keyup(function(e){27===e.keyCode?handleClose():37===e.keyCode?updateEnlargedImageDiv("left"):39===e.keyCode&&updateEnlargedImageDiv("right")}),$(".popupClose").click(function(){handleClose()}),$("#resume").click(function(){handleClick(Nav.Resume)}),$("#projects").click(function(){handleClick(Nav.Projects)}),$("#travel").click(function(){handleClick(Nav.Travel)}),$("#music").click(function(){handleClick(Nav.Music)}),$("#contact").click(function(){handleClick(Nav.Contact),contactMap.invalidateSize()})}),$(window).resize(function(){handlingClick||setNavArrowPos(loadedNav)});var TravelStatus={None:0,Preview:1,Enlarged:2,Resizing:3},currStatus=TravelStatus.None,baseHtml="",currId="",minImageId=1e3,maxImageId=-1,idHeader="trav-",idPadLen=3,locationMap=Array();$(document).ready(function(){currStatus===TravelStatus.None&&(currStatus=TravelStatus.Preview,loadTravelImages()),$(NavId[Nav.Travel]).click(function(e){-1===e.target.id.indexOf(idHeader)?"navLeft"===e.target.id?updateEnlargedImageDiv("left"):"navRight"===e.target.id&&updateEnlargedImageDiv("right"):currStatus===TravelStatus.Preview?(currId="#"+e.target.id,updateEnlargedImageDiv()):currStatus===TravelStatus.Enlarged&&resetPreviewImageDiv()})});
